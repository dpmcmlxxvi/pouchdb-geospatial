<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" Documentation Namespaces PouchDBGeospatial Externals GeoJSONOptions Namespaces Namespaces PouchDBGeospatial × Search results Close Documentation generated by JSDoc 3.6.2 on 2019-06-22T17:03:39-04:00 using the DocStrap template. "},"externals.list.html":{"id":"externals.list.html","title":"Externals","body":" Documentation Namespaces PouchDBGeospatial Externals GeoJSONOptions Externals Namespaces PouchDBGeospatial × Search results Close Documentation generated by JSDoc 3.6.2 on 2019-06-22T17:03:39-04:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Namespaces PouchDBGeospatial Externals GeoJSONOptions PouchDB Geospatial The PouchDB Geospatial plugin provides spatial querying of GeoJSON objects. The query methods available support the DE-9IM spatial predicates. Any GeoJSON object inserted into the database via the the plugin API is spatially indexed using an R-Tree. Spatial queries are then processed by querying the R-Tree for candidate geometries and the final query results are returned after the candidates are filtered by the appropriate spatial predicate. The spatial indexing is performed by RBush and geospatial predicates are computed with de9im. A sample of how to use the plugin is available at the examples page. The API is described below and at the documentation page. USAGE In browser To use this plugin, include it after pouchdb.js in your HTML page. This plugin has two dependencies not bundled with it that must be included Turf and de9im. &lt;script src=\"https://unpkg.com/pouchdb/dist/pouchdb.min.js\"&gt;&lt;/script&gt; &lt;script src=\"https://unpkg.com/@turf/turf\"&gt;&lt;/script&gt; &lt;script src=\"https://unpkg.com/de9im\"&gt;&lt;/script&gt; &lt;script src=\"https://unpkg.com/pouchdb-geospatial\"&gt;&lt;/script&gt; In Node To use it in Node, install it npm install pouchdb-geospatial then attach it to the PouchDB object: import PouchDB from 'pouchdb'; import PouchDBGeospatial from 'pouchdb-geospatial'; PouchDB.plugin(PouchDBGeospatial); Create database The plugin methods are exposed via an object API. All methods return promises. const db = new PouchDB('dbname'); const api = db.geospatial(); API Database methods The database methods accept the same options and return a promise with the same response returned by their corresponding PouchDB methods: put, post, bulkDocs, and remove. api.add(geojson, options); api.load([geojson, ...], options); api.remove(id); Query methods The query methods accept a GeoJSON and return a promise with an array of database document IDs that satisfy the spatial predicate. For example, api.contains(geojson).then((ids) =&gt; { // Do something with document ids. }); The following spatial predicates are available: contains coveredby covers crosses disjoint equals intersects overlaps touches within Each predicate takes one GeoJSON argument. The predicate should be interpreted as the database GeoJSON operating on the argument GeoJSON. For example, api.within(polygon) should be read as any database GeoJSON within polygon? BUILD To build and test the library locally: npm install npm test After installation, the bundled plugin is at pouchdb-geospatial.min.js. LICENSE Copyright (c) 2019 Daniel Pulido mailto:dpmcmlxxvi@gmail.com Source code is released under the Apache 2.0 license × Search results Close Documentation generated by JSDoc 3.6.2 on 2019-06-22T17:03:39-04:00 using the DocStrap template. "},"external-GeoJSON.html":{"id":"external-GeoJSON.html","title":"External: GeoJSON","body":" Documentation Namespaces PouchDBGeospatial Externals GeoJSONOptions External: GeoJSON GeoJSON https://geojson.org × Search results Close Documentation generated by JSDoc 3.6.2 on 2019-06-22T17:03:39-04:00 using the DocStrap template. "},"external-Options.html":{"id":"external-Options.html","title":"External: Options","body":" Documentation Namespaces PouchDBGeospatial Externals GeoJSONOptions External: Options Options https://pouchdb.com × Search results Close Documentation generated by JSDoc 3.6.2 on 2019-06-22T17:03:39-04:00 using the DocStrap template. "},"PouchDBGeospatial.html":{"id":"PouchDBGeospatial.html","title":"Namespace: PouchDBGeospatial","body":" Documentation Namespaces PouchDBGeospatial Externals GeoJSONOptions Namespace: PouchDBGeospatial PouchDBGeospatial The object exposed by the geospatial plugin API. All methods return promises. Methods add(geojson [, options]) Add GeoJSON to the database. Uses put method if GeoJSON has _id property otherwise uses post. Parameters: Name Type Argument Description geojson GeoJSON GeoJSON to add. options Options &lt;optional&gt; PouchDB put/post options. Returns: Promise with db put/post response. Type Promise contains(geojson) Find all GeoJSON containing the query GeoJSON. Parameters: Name Type Description geojson GeoJSON Query GeoJSON. Returns: Promise with array of document IDs. Type Promise coveredby(geojson) Find all GeoJSON coveredby the query GeoJSON. Parameters: Name Type Description geojson GeoJSON Query GeoJSON. Returns: Promise with array of document IDs. Type Promise covers(geojson) Find all GeoJSON covering the query GeoJSON. Parameters: Name Type Description geojson GeoJSON Query GeoJSON. Returns: Promise with array of document IDs. Type Promise crosses(geojson) Find all GeoJSON crossing the query GeoJSON. Parameters: Name Type Description geojson GeoJSON Query GeoJSON. Returns: Promise with array of document IDs. Type Promise disjoint(geojson) Find all GeoJSON disjoint from the query GeoJSON. Parameters: Name Type Description geojson GeoJSON Query GeoJSON. Returns: Promise with array of document IDs. Type Promise equals(geojson) Find all GeoJSON that equal the query GeoJSON. Parameters: Name Type Description geojson GeoJSON Query GeoJSON. Returns: Promise with array of document IDs. Type Promise intersects(geojson) Find all GeoJSON intersecting the query GeoJSON. Parameters: Name Type Description geojson GeoJSON Query GeoJSON. Returns: Promise with array of document IDs. Type Promise load(geojsons [, options]) Bulk add array of GeoJSON to the database. Uses put method if GeoJSON has _id property otherwise uses post. Parameters: Name Type Argument Description geojsons Array.&lt;GeoJSON&gt; GeoJSONs to add. options Options &lt;optional&gt; PouchDB put/post options. Returns: Promise with db put/post response. Type Promise overlaps(geojson) Find all GeoJSON overlapping the query GeoJSON. Parameters: Name Type Description geojson GeoJSON Query GeoJSON. Returns: Promise with array of document IDs. Type Promise remove(id) Remove GeoJSON from the database. Parameters: Name Type Description id String GeoJSON document ID to remove. Returns: Promise with db remove response. Type Promise touches(geojson) Find all GeoJSON touching the query GeoJSON. Parameters: Name Type Description geojson GeoJSON Query GeoJSON. Returns: Promise with array of document IDs. Type Promise within(geojson) Find all GeoJSON within the query GeoJSON. Parameters: Name Type Description geojson GeoJSON Query GeoJSON. Returns: Promise with array of document IDs. Type Promise × Search results Close Documentation generated by JSDoc 3.6.2 on 2019-06-22T17:03:39-04:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
